(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{471:function(e,a,t){"use strict";t.r(a);var l=t(15),n=t(16),s=t(18),r=t(17),o=t(19),c=t(0),i=t.n(c),m=t(21),u=t.n(m),d=t(439),p=t(103),h=t(436),E=t(35),f=t(31),g=t(446),w=t(447),N=t(50),b=t(10),y=t.n(b),P=t(39),v=t.n(P),U=function(e){function a(){var e;return Object(l.a)(this,a),(e=Object(s.a)(this,Object(r.a)(a).call(this))).changeEmail=function(a){e.setState({email:a.target.value})},e.changeDisplayName=function(a){console.log(a.target.value),e.setState({displayName:a.target.value})},e.addProfilePic=function(a){e.setState({profilePic:a.target.value})},e.addPhoneNumber=function(a){e.setState({phoneNumber:a.target.value})},e.changePassword=function(a){console.log(a.target.value),e.setState({password:a.target.value})},e.confirmOldPass=function(a){e.setState({oldPassword:a.target.value})},e.confirmOldEmail=function(a){e.setState({oldEmail:a.target.value})},e.openModal=function(a){e.setState({openModal:!0})},e.closeModal=function(a){e.setState({openModal:!1})},e.openModalPassword=function(a){e.setState({openModalPassword:!0})},e.closeModalPassword=function(a){e.setState({openModalPassword:!1})},e.updateUserDisplayName=function(a){e.checkLoggedUser();var t=u.a.auth().currentUser;""!=e.state.displayName?t.updateProfile({displayName:e.state.displayName}).then(function(a){console.log(t),alert("Success!"),e.updateUserNameFB(e.state.displayName),e.setState({currentName:t.displayName})}).catch(function(e){alert(e.message)}):alert("Fill out a name.")},e.updateUserPassword=function(a){""!=e.state.password?(e.state.password==e.state.oldPassword&&alert("You cannot have the same password."),e.checkLoggedUser(),u.a.auth().signInWithEmailAndPassword(e.state.currentEmail,e.state.oldPassword).then(function(a){u.a.auth().currentUser.updatePassword(e.state.password.toString()).then(function(e){console.log(e),alert("Success!")})}).catch(function(e){alert(e.message)})):alert("Please fill out the field.")},e.updateUserEmail=function(a){""!=e.state.email?e.state.email!=e.state.currentEmail?u.a.auth().signInWithEmailAndPassword(e.state.currentEmail,e.state.oldPassword).then(function(a){u.a.auth().currentUser.updateEmail(e.state.email.toString()).then(function(a){alert("Success!"),e.setState({currentEmail:e.state.email})})}).catch(function(e){alert(e.message)}):alert("You cannot use the same email."):alert("Fill out an email.")},e.state={currentUser:[],oldEmail:"",email:"",displayName:"",profilePic:"",oldPassword:"",phoneNumber:"",password:"",openModal:!1,openModalPassword:!1,checkUser:!0},e}return Object(o.a)(a,e),Object(n.a)(a,[{key:"updateUserNameFB",value:function(e){var a=u.a.database();a.ref("crc/users").on("value",function(t){var l=u.a.auth().currentUser;a.ref("crc/users/"+l.uid).update({name:e})})}},{key:"updateUserEmail",value:function(e){var a=u.a.database();a.ref("crc/users").on("value",function(t){var l=u.a.auth().currentUser;console.log(l),a.ref("crc/users/"+l.uid).update({email:e})})}},{key:"checkLoggedUser",value:function(){var e=this;u.a.auth().onAuthStateChanged(function(a){e.setState({currentName:a.displayName}),e.setState({currentEmail:a.email})})}},{key:"componentDidMount",value:function(){this.checkLoggedUser()}},{key:"render",value:function(){return i.a.createElement(N.a,{title:"",breadcrumbs:[{name:"User Profile",active:!0}],className:"User Profile"},i.a.createElement(y.a,null,i.a.createElement("div",null,i.a.createElement("br",null),i.a.createElement("h1",{style:{fontFamily:"-apple-system, BlinkMacSystemFont",fontSize:"35px",fontWeight:"bold",color:"#0A0D18"}}," Update Profile "),i.a.createElement("br",null))),i.a.createElement(d.a,null,i.a.createElement(p.a,{lg:7,md:6,sm:6,xs:12},i.a.createElement(h.a,null,i.a.createElement("div",{className:"form-group"},i.a.createElement("label",{style:{fontFamily:"BlinkMacSystemFont"}}," Email address"),i.a.createElement(E.a,{onChange:this.changeEmail,required:!0,className:"form-control",placeholder:"Enter email",email:"email"}),i.a.createElement(f.a,{onClick:this.openModal,className:"btn-block border-0",style:{color:"white"}}," Update ")),i.a.createElement(d.a,null,i.a.createElement(p.a,null,i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null," Display Name "),i.a.createElement(E.a,{onChange:this.changeDisplayName,placeholder:"Enter name"})),i.a.createElement(f.a,{onClick:this.updateUserDisplayName,className:"btn-block border-0",style:{color:"white"}}," Update ")),i.a.createElement(p.a,null,i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null," Enter new password "),i.a.createElement(E.a,{onChange:this.changePassword,id:"phone",name:"phone",type:"tel",required:!0,className:"form-control",placeholder:"Enter password"})),i.a.createElement(f.a,{onClick:this.openModalPassword,className:"btn-block border-0",style:{color:"white"}}," Update Password "))),i.a.createElement(d.a,null,i.a.createElement(p.a,null)),i.a.createElement(v.a,{classNames:{overlay:"customOverlay",modal:"customModal"},open:this.state.openModal,onClose:this.closeModal,center:!0},i.a.createElement("p",{className:"float-center"}," Please enter your password to confirm. "),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null," Password "),i.a.createElement(E.a,{onChange:this.confirmOldPass,id:"phone",name:"phone",type:"tel",required:!0,className:"form-control",placeholder:"Enter password"})),i.a.createElement(f.a,{onClick:this.updateUserEmail,className:"btn-block border-0",style:{color:"white"}}," Confirm Changes ")),i.a.createElement(v.a,{classNames:{overlay:"customOverlay",modal:"customModal"},open:this.state.openModalPassword,onClose:this.closeModalPassword,center:!0},i.a.createElement("p",{className:"float-center"}," Please enter your password to confirm. "),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null," Password "),i.a.createElement(E.a,{onChange:this.confirmOldPass,id:"phone",name:"phone",type:"tel",required:!0,className:"form-control",placeholder:"Enter password"}),i.a.createElement(f.a,{onClick:this.updateUserPassword,className:"btn-block border-0",style:{color:"white"}}," Confirm Changes "))),i.a.createElement("p",{className:"forgot-password text-right"}))),i.a.createElement(p.a,{lg:3,md:6,sm:6,xs:12},i.a.createElement("br",null),i.a.createElement(g.a,{style:{"border-radius":"2px",background:"white"}},i.a.createElement(w.a,null,i.a.createElement("div",{class:"card-body"},i.a.createElement("p",null," Current User "),i.a.createElement("p",null," Email: ",this.state.currentEmail," "),i.a.createElement("p",null," Name: ",this.state.currentName," ")))))))}}]),a}(i.a.Component);a.default=U}}]);
//# sourceMappingURL=7.ab59df25.chunk.js.map